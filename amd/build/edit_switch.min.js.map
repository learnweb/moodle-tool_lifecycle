{"version":3,"file":"edit_switch.min.js","sources":["../src/edit_switch.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Controls the edit switch.\n *\n * @module     tool_lifecycle/edit_switch\n * @copyright  2026 Thomas Niedermaier University MÃ¼nster\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n/**\n * Toggle the edit switch\n *\n * @method\n * @protected\n * @param {HTMLElement} editSwitch\n * @param {string} formid to identify/diversify the surrounding form\n */\nconst toggleEditSwitch = (editSwitch, formid) => {\n    if (editSwitch.checked) {\n        editSwitch.setAttribute('aria-checked', true);\n    } else {\n        editSwitch.setAttribute('aria-checked', false);\n    }\n\n    if (!event.defaultPrevented) {\n        editSwitch.setAttribute('disabled', true);\n        let frm = document.getElementsByName(formid + 'form')[0];\n        frm.submit();\n    }\n};\n\n/**\n * Add the eventlistener for the editswitch.\n *\n * @param {string} editingSwitchId The id of the editing switch to listen for\n * @param {string} formid to identify/diversify the surrounding form\n */\nexport const init = (editingSwitchId, formid) => {\n    const editSwitch = document.getElementById(editingSwitchId);\n    editSwitch.addEventListener('change', () => {\n        toggleEditSwitch(editSwitch, formid);\n    });\n};\n"],"names":["editingSwitchId","formid","editSwitch","document","getElementById","addEventListener","checked","setAttribute","event","defaultPrevented","getElementsByName","submit","toggleEditSwitch"],"mappings":"+JAmDoB,CAACA,gBAAiBC,gBAC5BC,WAAaC,SAASC,eAAeJ,iBAC3CE,WAAWG,iBAAiB,UAAU,KAtBjB,EAACH,WAAYD,UAC9BC,WAAWI,QACXJ,WAAWK,aAAa,gBAAgB,GAExCL,WAAWK,aAAa,gBAAgB,GAGvCC,MAAMC,mBACPP,WAAWK,aAAa,YAAY,GAC1BJ,SAASO,kBAAkBT,OAAS,QAAQ,GAClDU,WAaJC,CAAiBV,WAAYD"}