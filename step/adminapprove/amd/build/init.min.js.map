{"version":3,"file":"init.min.js","sources":["../src/init.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Life Cycle Admin Approve Step AMD Module\n *\n * @module     lifecyclestep_adminapprove/init\n * @copyright  2019 Justus Dieckmann WWU\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['jquery'], function($) {\n    return {\n        init: function(sesskey, url, totalrows) {\n\n            $('#adminapprove_totalrows').html(totalrows);\n\n            $('input[name=\"checkall\"]').click(function() {\n                $('input[name=\"c[]\"]').prop('checked', $('input[name=\"checkall\"]').prop('checked'));\n            });\n\n            $('.adminapprove-action').each(function() {\n                $(this).click(function() {\n                    var post = {\n                        'act': $(this).attr('data-action'),\n                        'c[]': $(this).attr('data-content'),\n                        'sesskey': sesskey\n                    };\n                    var form = document.createElement('form');\n                    form.hidden = true;\n                    form.method = 'post';\n                    form.action = url;\n                    for (var k in post) {\n                        var input = document.createElement('input');\n                        input.type = 'hidden';\n                        input.name = k;\n                        input.value = post[k];\n                        form.append(input);\n                    }\n                    document.body.append(form);\n                    form.submit();\n                });\n            });\n        }\n    };\n});"],"names":["define","$","init","sesskey","url","totalrows","html","click","prop","each","this","post","attr","form","document","createElement","k","hidden","method","action","input","type","name","value","append","body","submit"],"mappings":";;;;;;;AAsBAA,yCAAO,CAAC,WAAW,SAASC,SACjB,CACHC,KAAM,SAASC,QAASC,IAAKC,WAEzBJ,EAAE,2BAA2BK,KAAKD,WAElCJ,EAAE,0BAA0BM,OAAM,WAC9BN,EAAE,qBAAqBO,KAAK,UAAWP,EAAE,0BAA0BO,KAAK,eAG5EP,EAAE,wBAAwBQ,MAAK,WAC3BR,EAAES,MAAMH,OAAM,eACNI,KAAO,KACAV,EAAES,MAAME,KAAK,qBACbX,EAAES,MAAME,KAAK,wBACTT,SAEXU,KAAOC,SAASC,cAAc,YAI7B,IAAIC,KAHTH,KAAKI,QAAS,EACdJ,KAAKK,OAAS,OACdL,KAAKM,OAASf,IACAO,KAAM,KACZS,MAAQN,SAASC,cAAc,SACnCK,MAAMC,KAAO,SACbD,MAAME,KAAON,EACbI,MAAMG,MAAQZ,KAAKK,GACnBH,KAAKW,OAAOJ,OAEhBN,SAASW,KAAKD,OAAOX,MACrBA,KAAKa"}